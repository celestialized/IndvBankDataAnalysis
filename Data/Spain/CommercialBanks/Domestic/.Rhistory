D1 <- zelig(violence ~ HighProp + DemAge + WomenInParl, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ DemAge + WomenInParl, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ HighProp + WomenInParl, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
Test <- subset(dem, !is.na(WomenInParl))
nrow(dem)
sum(Test$violence)
D1 <- zelig(violence ~ HighProp + DemAge + WomenInParl, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ HighProp + DemAge , model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
plot(dem$violence, dem$WomenInParl)
plot(dem$disproportionality, dem$WomenInParl)
library(ggplot2)
ggplot(dem, aes(disproportionality, WomenInParl, colour = violence)) + geom_point()
ggplot(dem, aes(disproportionality, WomenInParl, colour = factor(violence))) + geom_point() + theme_bw()
D1 <- zelig(violence ~ WomenInParl*HighProp, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl + HighProp, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl + HighProp + maj, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl + HighProp + maj + DemAge, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
ggplot(dem, aes(DemAge, WomenInParl, colour = factor(violence))) + geom_point() + theme_bw()
D1 <- zelig(violence ~ WomenInParl + log(disproportionality) + maj + DemAge, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl + disproportionality + maj + DemAge, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl + HighProp + maj + DemAge, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl*HighProp + maj + DemAge, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl*HighProp, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl + HighProp, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl + HighProp + GDPperCapita, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl + HighProp + GDPperCapita, model = "relogit", data = dNew, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
Test <- subset(dem, violence == 1 & WomenInParl > 20)
View(Test)
cor(dem$WomenInParl, dem$disproportionality)
cor(dem$WomenInParl, dem$disproportionality, rm.na = TRUE)
cor(dem$WomenInParl, dem$disproportionality, na.rm = TRUE)
?cor
?pwcorr
cor.test
cor.test(dem$WomenInParl, dem$disproportionality, na.rm = TRUE)
D1 <- zelig(violence ~ HighProp + GDPperCapita, model = "relogit", data = dNew, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl + HighProp + GDPperCapita, model = "relogit", data = dNew, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl + HighProp, model = "relogit", data = dNew, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl, model = "relogit", data = dNew, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl + HighProp + DemAge + GDPperCapita, model = "relogit", data = dNew, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
cor.test(dem$WomenInParl, dem$HighProp, na.rm = TRUE)
ggplot(dem, aes(disproportionality, log(WomenInParl), colour = factor(violence))) + geom_point() + theme_bw()
ggplot(dem, aes(log(disproportionality), log(WomenInParl), colour = factor(violence))) + geom_point() + theme_bw()
D1 <- zelig(violence ~ log(WomenInParl) + HighProp + DemAge + GDPperCapita, model = "relogit", data = dNew, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
?log
dNComp <- dNew[complete.cases(dNew["WomenInParl"]),]
D1 <- zelig(violence ~ log(WomenInParl) + HighProp + DemAge + GDPperCapita, model = "relogit", data = dNComp, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
dNComp$logWomen <- log(dNComp$WomenInParl)
D1 <- zelig(violence ~ logWomen + HighProp + DemAge + GDPperCapita, model = "relogit", data = dNComp, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
dnComp$logWomen
dNComp$logWomen
dNComp$logWomen <- log(dNComp$WomenInParl + 0.1)
D1 <- zelig(violence ~ logWomen + HighProp + DemAge + GDPperCapita, model = "relogit", data = dNComp, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ logWomen + HighProp, model = "relogit", data = dNComp, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
dNComp$logDis <- log(dNComp$disproportionality + 0.1)
D1 <- zelig(violence ~ logWomen + logDis, model = "relogit", data = dNComp, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ logWomen + HighDis, model = "relogit", data = dNComp, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
D1 <- zelig(violence ~ logWomen + HighProp, model = "relogit", data = dNComp, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ logWomen + HighProp + DemAge, model = "relogit", data = dNComp, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ logWomen + HighProp + maj, model = "relogit", data = dNComp, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ logWomen + HighProp + maj + DemAge, model = "relogit", data = dNComp, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ logWomen + maj + DemAge, model = "relogit", data = dNComp, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl + maj + DemAge, model = "relogit", data = dNComp, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ HighProp + maj + DemAge, model = "relogit", data = dNComp, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
leg.raw <- read.csv("/git_repositories/LegislativeViolence/Data/LegViolenceMain.csv")
names(leg.raw)
leg.raw <- leg.raw[, -155]
names(leg.raw)
womenOld <- read.dta("~/Dropbox/Parliamentary Brawls/ICPSR_24340/DS0001/24340-0001-Data.dta")
library(foreign)
womenOld <- read.dta("~/Dropbox/Parliamentary Brawls/ICPSR_24340/DS0001/24340-0001-Data.dta")
library(reshape2)
View(womenOld)
names(womenOld)
womenOld <- womenOld[, 5:64]
names(womenOld)
moltenWomen <- melt(womenOld, id.vars = "COUNTRYN")
View(moltenWomen)
moltenWomen$variable <- gsub("P", "", moltenWomen$variable)
View(moltenWomen)
womenOld <- read.dta("~/Dropbox/Parliamentary Brawls/ICPSR_24340/DS0001/24340-0001-Data.dta")
womenOld <- womenOld[, 5:64]
moltenWomen <- melt(womenOld, id.vars = "COUNTRYN")
moltenWomen$variable <- numeric(gsub("P", "", moltenWomen$variable))
moltenWomen$variable <- as.numeric(gsub("P", "", moltenWomen$variable))
View(moltenWomen)
names(moltenWomen) <- c("country", "year", "WomenInParl")
moltenWomen <- moltenWomen[order(moltenWomen$country, moltenWomen$year), ]
View(moltenWomen)
summary(moltenWomen)
library(DataCombine)
?FillIn
library(WDI)
library(countryname)
library(countrycode)
moltenWomen$iso2c <- countrycode(moltenWomen$country, origin = "country.name", destination = "iso2c")
View(moltenWomen)
library(WDI)
women <- WDI(indicator = "SG.GEN.PARL.ZS", start = 1980, extra = FALSE)
women <- women[, c("iso2c", "year", "SG.GEN.PARL.ZS")]
names(women) <- c("iso2c", "year", "WomenInParl")
women <- WDI(indicator = "SG.GEN.PARL.ZS", start = 1997, extra = FALSE)
women <- women[, c("iso2c", "year", "SG.GEN.PARL.ZS")]
names(women) <- c("iso2c", "year", "WomenInParl")
womenOld <- read.dta("~/Dropbox/Parliamentary Brawls/ICPSR_24340/DS0001/24340-0001-Data.dta")
womenOld <- womenOld[, 5:64]
moltenWomen <- melt(womenOld, id.vars = "COUNTRYN")
moltenWomen$variable <- as.numeric(gsub("P", "", moltenWomen$variable))
names(moltenWomen) <- c("country", "year", "WomenInParl")
moltenWomen <- moltenWomen[order(moltenWomen$country, moltenWomen$year), ]
moltenWomen$iso2c <- countrycode(moltenWomen$country, origin = "country.name", destination = "iso2c")
moltenWomen <- moltenWomen[, c("iso2c", "year", "WomenInParl")]
WomenComb <- rbind(women, womenOld)
WomenComb <- rbind(women, moltenWomen)
View(WomenComb)
WomenComb <- WomenComb[order(WomenComb$iso2c, WomenComb$year), ]
View(WomenComb)
names(leg.raw)
leg <- merge(leg.raw, WomenComb, by = c("iso2c", "year"), all.x = TRUE)
names(leg)
Test <- leg[, c("iso2c", "year", "WomenInParl")]
View(Test)
WomenComb <- WomenComb[!duplicated(WomenComb$iso2c, WomenComb$year), ]
leg.raw <- read.csv("/git_repositories/LegislativeViolence/Data/LegViolenceMain.csv")
names(leg.raw)
leg.raw <- leg.raw[, -155]
names(leg.raw)
leg <- merge(leg.raw, WomenComb, by = c("iso2c", "year"), all.x = TRUE)
Test <- leg[, c("iso2c", "year", "WomenInParl")]
View(Test)
womenOld <- read.dta("~/Dropbox/Parliamentary Brawls/ICPSR_24340/DS0001/24340-0001-Data.dta")
womenOld <- womenOld[, 5:64]
moltenWomen <- melt(womenOld, id.vars = "COUNTRYN")
moltenWomen$variable <- as.numeric(gsub("P", "", moltenWomen$variable))
names(moltenWomen) <- c("country", "year", "WomenInParl")
moltenWomen <- moltenWomen[order(moltenWomen$country, moltenWomen$year), ]
moltenWomen$iso2c <- countrycode(moltenWomen$country, origin = "country.name", destination = "iso2c")
moltenWomen <- moltenWomen[, c("iso2c", "year", "WomenInParl")]
WomenComb <- rbind(women, moltenWomen)
WomenComb <- WomenComb[order(WomenComb$iso2c, WomenComb$year), ]
View(WomenComb)
WomenComb <- WomenComb[!duplicated(WomenComb[, 1:2]), ]
View(WomenComb)
womenOld <- read.dta("~/Dropbox/Parliamentary Brawls/ICPSR_24340/DS0001/24340-0001-Data.dta")
womenOld <- womenOld[, 5:64]
moltenWomen <- melt(womenOld, id.vars = "COUNTRYN")
moltenWomen$variable <- as.numeric(gsub("P", "", moltenWomen$variable))
names(moltenWomen) <- c("country", "year", "WomenInParl")
moltenWomen <- moltenWomen[order(moltenWomen$country, moltenWomen$year), ]
moltenWomen$iso2c <- countrycode(moltenWomen$country, origin = "country.name", destination = "iso2c")
moltenWomen <- moltenWomen[, c("iso2c", "year", "WomenInParl")]
moltenWomen <- subset(moltenWomen, year >= 1997)
WomenComb <- rbind(women, moltenWomen)
WomenComb <- WomenComb[order(WomenComb$iso2c, WomenComb$year), ]
View(WomenComb)
womenOld <- read.dta("~/Dropbox/Parliamentary Brawls/ICPSR_24340/DS0001/24340-0001-Data.dta")
womenOld <- womenOld[, 5:64]
moltenWomen <- melt(womenOld, id.vars = "COUNTRYN")
moltenWomen$variable <- as.numeric(gsub("P", "", moltenWomen$variable))
names(moltenWomen) <- c("country", "year", "WomenInParl")
moltenWomen <- moltenWomen[order(moltenWomen$country, moltenWomen$year), ]
moltenWomen$iso2c <- countrycode(moltenWomen$country, origin = "country.name", destination = "iso2c")
moltenWomen <- moltenWomen[, c("iso2c", "year", "WomenInParl")]
moltenWomen <- subset(moltenWomen, year < 1997)
WomenComb <- rbind(women, moltenWomen)
WomenComb <- WomenComb[order(WomenComb$iso2c, WomenComb$year), ]
View(WomenComb)
View(moltenWomen)
womenOld <- read.dta("~/Dropbox/Parliamentary Brawls/ICPSR_24340/DS0001/24340-0001-Data.dta")
womenOld <- womenOld[, 5:64]
moltenWomen <- melt(womenOld, id.vars = "COUNTRYN")
moltenWomen$variable <- as.numeric(gsub("P", "", moltenWomen$variable))
names(moltenWomen) <- c("country", "year", "WomenInParl")
moltenWomen <- moltenWomen[order(moltenWomen$country, moltenWomen$year), ]
moltenWomen$iso2c <- countrycode(moltenWomen$country, origin = "country.name", destination = "iso2c")
moltenWomen <- moltenWomen[, c("iso2c", "year", "WomenInParl")]
moltenWomen <- subset(moltenWomen, year < 1997)
WomenComb <- rbind(women, moltenWomen)
womenOld <- read.dta("~/Dropbox/Parliamentary Brawls/ICPSR_24340/DS0001/24340-0001-Data.dta")
womenOld <- womenOld[, 5:64]
moltenWomen <- melt(womenOld, id.vars = "COUNTRYN")
moltenWomen$variable <- as.numeric(gsub("P", "", moltenWomen$variable))
names(moltenWomen) <- c("country", "year", "WomenInParl")
moltenWomen <- moltenWomen[order(moltenWomen$country, moltenWomen$year), ]
moltenWomen$iso2c <- countrycode(moltenWomen$country, origin = "country.name", destination = "iso2c")
moltenWomen <- moltenWomen[, c("iso2c", "year", "WomenInParl")]
moltenWomen <- subset(moltenWomen, year < 1997)
library(WDI)
women <- WDI(indicator = "SG.GEN.PARL.ZS", start = 1997, extra = FALSE)
women <- women[, c("iso2c", "year", "SG.GEN.PARL.ZS")]
names(women) <- c("iso2c", "year", "WomenInParl")
WomenComb <- rbind(women, moltenWomen)
WomenComb <- WomenComb[order(WomenComb$iso2c, WomenComb$year), ]
View(WomenComb)
range(WomenComb$year)
leg.raw <- read.csv("/git_repositories/LegislativeViolence/Data/LegViolenceMain.csv")
names(leg.raw)
leg.raw <- leg.raw[, -155]
names(leg.raw)
leg <- merge(leg.raw, WomenComb, by = c("iso2c", "year"), all.x = TRUE)
Test <- Test[, c("country", "year", "WomenInParl")]
Test <- leg.raw[, c("country", "year", "WomenInParl")]
Test <- leg[, c("country", "year", "WomenInParl")]
View(Test)
write.csv(leg, "/git_repositories/LegislativeViolence/Data/LegViolenceMain.csv",
row.names = FALSE)
leg.raw <- read.csv("/git_repositories/LegislativeViolence/Data/LegViolenceMain.csv")
## Keep variables of interest
vars <- c("country", "year", "violence", "system", "DemAge", "maj", "MajCat", "govfrac", "singleParty", "pr", "tenshort", "UDS", "polity2", "ethnicAlesina", "CWtrust", "higherTrust", "CWsurvSelfExpr", "legislature", "elect_legislature", "disproportionality", "gini", "GDPperCapita", "enps", "enpv", "federal", "immunity", "liec", "UNMurderRate", "WomenInParl")
leg.raw <- leg.raw[vars]
## Clean violence data for 2009
leg.raw$violence[is.na(leg.raw$violence)] <- 0
## Label MajCat factor categories
leg.raw$MajCat <- factor(leg.raw$MajCat, labels = c("Minority", "Regular Maj.", "Strong Maj."))
## Transform GDP/capita to thousands of USD
leg.raw$GDPperCapita <- leg.raw$GDPperCapita/1000
## Create disproportionality threshold variable where 1 < 6
leg.raw$HighProp[leg.raw$disproportionality < 6] <- 1
leg.raw$HighProp[leg.raw$disproportionality >= 6] <- 0
## Create disproportionality threshold variable where 1 < 3
leg.raw$VeryHighProp[leg.raw$disproportionality < 4] <- 1
leg.raw$VeryHighProp[leg.raw$disproportionality >= 4] <- 0
## Transform majority variable from a proportion to a percentage
leg.raw$maj = leg.raw$maj*100
## Change the system variable's reference category to Parliamentary
leg.raw$system <- relevel(leg.raw$system, ref = "Parliamentary")
## Only Countries with Legislatures
## leg <- subset(leg.raw, legislature == 1)
## Only Countries with Elected Legislatures
#dem <- subset(leg.raw, elect_legislature == 1)
dem <- subset(leg.raw, liec > 5)
## Only before 2010
dem <- subset(dem, year < 2010)
## Only Countries with Elected Legislatures after 1989 (new sample 199)
dNew <- subset(dem, year > 1989)
library(Zelig)
dNComp <- dNew[complete.cases(dNew["WomenInParl"]),]
D1 <- zelig(violence ~ HighProp + maj + DemAge, model = "relogit", data = dNew, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl + HighProp + maj + DemAge, model = "relogit", data = dNew, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl, model = "relogit", data = dNew, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl + HighProp + maj + DemAge, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
library(ggplot2)
ggplot(dem, aes(disproportionality, WomenInParl, colour = violence)) + geom_point() + theme_bw()
Test <- subset(dem, WomenInParl < 0)
View(Test)
women <- WDI(indicator = "SG.GEN.PARL.ZS", start = 1997, extra = FALSE)
women <- women[, c("iso2c", "year", "SG.GEN.PARL.ZS")]
names(women) <- c("iso2c", "year", "WomenInParl")
# Data from before 1997 from ICPSR: http://www.icpsr.umich.edu/icpsrweb/ICPSR/studies/24340
library(foreign)
library(reshape2)
library(countrycode)
womenOld <- read.dta("~/Dropbox/Parliamentary Brawls/ICPSR_24340/DS0001/24340-0001-Data.dta")
womenOld <- womenOld[, 5:64]
moltenWomen <- melt(womenOld, id.vars = "COUNTRYN")
moltenWomen$variable <- as.numeric(gsub("P", "", moltenWomen$variable))
names(moltenWomen) <- c("country", "year", "WomenInParl")
moltenWomen <- moltenWomen[order(moltenWomen$country, moltenWomen$year), ]
moltenWomen$iso2c <- countrycode(moltenWomen$country, origin = "country.name", destination = "iso2c")
moltenWomen <- moltenWomen[, c("iso2c", "year", "WomenInParl")]
moltenWomen <- subset(moltenWomen, year < 1997)
moltenWomen$WomenInParl[moltenWomen$WomenInParl < 0] <- "NA"
range(molteWomen$WomenInParl)
range(moltenWomen$WomenInParl)
range(moltenWomen$WomenInParl, rm.na = TRUE)
View(moltenWomen)
?range
range(moltenWomen$WomenInParl, na.rm = TRUE)
womenOld <- read.dta("~/Dropbox/Parliamentary Brawls/ICPSR_24340/DS0001/24340-0001-Data.dta")
womenOld <- womenOld[, 5:64]
moltenWomen <- melt(womenOld, id.vars = "COUNTRYN")
moltenWomen$variable <- as.numeric(gsub("P", "", moltenWomen$variable))
names(moltenWomen) <- c("country", "year", "WomenInParl")
moltenWomen <- moltenWomen[order(moltenWomen$country, moltenWomen$year), ]
moltenWomen$iso2c <- countrycode(moltenWomen$country, origin = "country.name", destination = "iso2c")
moltenWomen <- moltenWomen[, c("iso2c", "year", "WomenInParl")]
moltenWomen <- subset(moltenWomen, year < 1997)
moltenWomen$WomenInParl[moltenWomen$WomenInParl < 0] <- NA
range(moltenWomen$WomenInParl, na.rm = TRUE)
WomenComb <- rbind(women, moltenWomen)
WomenComb <- WomenComb[order(WomenComb$iso2c, WomenComb$year), ]
View(WomenComb)
leg.raw <- read.csv("/git_repositories/LegislativeViolence/Data/LegViolenceMain.csv")
names(leg.raw)
leg.raw <- leg.raw[, -155]
names(leg.raw)
leg <- merge(leg.raw, WomenComb, by = c("iso2c", "year"), all.x = TRUE)
write.csv(leg, "/git_repositories/LegislativeViolence/Data/LegViolenceMain.csv",
row.names = FALSE)
leg.raw <- read.csv("/git_repositories/LegislativeViolence/Data/LegViolenceMain.csv")
## Keep variables of interest
vars <- c("country", "year", "violence", "system", "DemAge", "maj", "MajCat", "govfrac", "singleParty", "pr", "tenshort", "UDS", "polity2", "ethnicAlesina", "CWtrust", "higherTrust", "CWsurvSelfExpr", "legislature", "elect_legislature", "disproportionality", "gini", "GDPperCapita", "enps", "enpv", "federal", "immunity", "liec", "UNMurderRate", "WomenInParl")
leg.raw <- leg.raw[vars]
## Clean violence data for 2009
leg.raw$violence[is.na(leg.raw$violence)] <- 0
## Label MajCat factor categories
leg.raw$MajCat <- factor(leg.raw$MajCat, labels = c("Minority", "Regular Maj.", "Strong Maj."))
## Transform GDP/capita to thousands of USD
leg.raw$GDPperCapita <- leg.raw$GDPperCapita/1000
## Create disproportionality threshold variable where 1 < 6
leg.raw$HighProp[leg.raw$disproportionality < 6] <- 1
leg.raw$HighProp[leg.raw$disproportionality >= 6] <- 0
## Create disproportionality threshold variable where 1 < 3
leg.raw$VeryHighProp[leg.raw$disproportionality < 4] <- 1
leg.raw$VeryHighProp[leg.raw$disproportionality >= 4] <- 0
## Transform majority variable from a proportion to a percentage
leg.raw$maj = leg.raw$maj*100
## Change the system variable's reference category to Parliamentary
leg.raw$system <- relevel(leg.raw$system, ref = "Parliamentary")
## Only Countries with Legislatures
## leg <- subset(leg.raw, legislature == 1)
## Only Countries with Elected Legislatures
#dem <- subset(leg.raw, elect_legislature == 1)
dem <- subset(leg.raw, liec > 5)
## Only before 2010
dem <- subset(dem, year < 2010)
## Only Countries with Elected Legislatures after 1989 (new sample 199)
dNew <- subset(dem, year > 1989)
library(Zelig)
dNComp <- dNew[complete.cases(dNew["WomenInParl"]),]
dNComp$logWomen <- log(dNComp$WomenInParl + 0.1)
dNComp$logDis <- log(dNComp$disproportionality + 0.1)
D1 <- zelig(violence ~ WomenInParl + HighProp + maj + DemAge, model = "relogit", data = dem, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
library(ggplot2)
ggplot(dem, aes(disproportionality, WomenInParl, colour = violence)) + geom_point() + theme_bw()
ggplot(dem, aes(disproportionality, WomenInParl, colour = factor(violence))) + geom_point() + theme_bw()
ggplot(dem, aes(disproportionality, WomenInParl, colour = factor(violence))) +
geom_point() +
scale_colour_manual("gray", "red") +
theme_bw()
scale_colour_manual(c("gray", "red")) +
)))
ggplot(dem, aes(disproportionality, WomenInParl, colour = factor(violence))) +
geom_point() +
scale_colour_manual(c("gray", "red")) +
theme_bw()
ggplot(dem, aes(disproportionality, WomenInParl, colour = factor(violence))) +
geom_point() +
scale_colour_manual(values = c("gray", "red")) +
theme_bw()
ggplot(dem, aes(disproportionality, WomenInParl, colour = factor(violence))) +
geom_point(alpah = 0.5) +
scale_colour_manual(values = c("gray", "red")) +
theme_bw()
D1 <- zelig(violence ~ WomenInParl + HighProp + maj + DemAge, model = "relogit", data = dNew, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
D1 <- zelig(violence ~ WomenInParl + HighProp + maj + DemAge + MurderRate, model = "relogit", data = dNew, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
D1 <- zelig(violence ~ WomenInParl + HighProp + maj + DemAge + UNMurderRate, model = "relogit", data = dNew, tau = 71/3376, robust = list(method = "weave"), cite = FALSE)
summary(D1)
ggplot(dem, aes(disproportionality, WomenInParl, colour = factor(violence))) +
geom_point(alpah = 0.5) +
facet_grid(.~violence) +
scale_colour_manual(values = c("gray", "red")) +
theme_bw()
library(ggplot2)
?hline
ggplot(dem, aes(disproportionality, WomenInParl, colour = factor(violence))) +
geom_point(alpah = 0.5) +
geom_vline(aes(xintercept = 6)) +
facet_grid(.~violence) +
scale_colour_manual(values = c("gray", "red")) +
theme_bw()
ggplot(dem, aes(log(disproportionality), WomenInParl, colour = factor(violence))) +
geom_point(alpah = 0.5) +
geom_vline(aes(xintercept = 6)) +
facet_grid(.~violence) +
scale_colour_manual(values = c("gray", "red")) +
theme_bw()
ggplot(dem, aes(log(disproportionality), WomenInParl, colour = factor(violence))) +
geom_point(alpah = 0.5) +
facet_grid(.~violence) +
scale_colour_manual(values = c("gray", "red")) +
theme_bw()
AnalysisURL <- "https://raw.github.com/christophergandrud/GreenBook/master/Analysis/MainAnalysis2.R"
library(survival)
?pspline
library(simPH)
?simGG
?ggfitStrata
library(simPH)
?coxsimInteract
exp(-1)
exp(-10)
exp(1)
exp(-1.457)
?png
library(simPH)
?simGG
library(DataCombine)
devtools::source_url("http://bit.ly/NXdCpk")
View(cpi.data)
cpi.data$time_to_election_midterm <- cpi.data$time_to_election
cpi.data$time_to_election_midterm <- if(cpi.data$time_to_election_midterm > 7) cpi.data$time_to_election_midterm - 8
for (i in 1:nrow(cpi.data)){
if (cpi.data[i, "time_to_election_midterm"] > 7){
cpi.data[i, time_to_election_midterm]<- cpi.data[i, time_to_election_midterm] - 8
else{
cpi.data[i, time_to_election_midterm]<- cpi.data[i, time_to_election_midterm]
}
]
for (i in 1:nrow(cpi.data)){
if (cpi.data[i, "time_to_election_midterm"] > 7){
cpi.data[i, time_to_election_midterm]<- cpi.data[i, time_to_election_midterm] - 8
else{
for (i in 1:nrow(cpi.data)){
if (cpi.data[i, "time_to_election_midterm"] > 7){
cpi.data[i, time_to_election_midterm]<- cpi.data[i, time_to_election_midterm] - 8
}else{
cpi.data[i, time_to_election_midterm]<- cpi.data[i, time_to_election_midterm]
}
]
for (i in 1:nrow(cpi.data)){
if (cpi.data[i, "time_to_election_midterm"] > 7){
cpi.data[i, time_to_election_midterm]<- cpi.data[i, time_to_election_midterm] - 8
}else{
cpi.data[i, time_to_election_midterm]<- cpi.data[i, time_to_election_midterm]
}
}
devtools::source_url("http://bit.ly/NXdCpk")
for (i in 1:nrow(cpi.data)){
if (cpi.data[i, "time_to_election_midterm"] > 7){
cpi.data[i, "time_to_election_midterm"]<- cpi.data[i, "time_to_election_midterm"] - 8
}else{
cpi.data[i, "time_to_election_midterm"]<- cpi.data[i, "time_to_election_midterm"]
}
}
View(cpi.data)
cpi.data$time_to_election_midterm <- cpi.data$time_to_election
for (i in 1:nrow(cpi.data)){
if (cpi.data[i, "time_to_election_midterm"] > 7){
cpi.data[i, "time_to_election_midterm"]<- cpi.data[i, "time_to_election_midterm"] - 8
}else{
cpi.data[i, "time_to_election_midterm"]<- cpi.data[i, "time_to_election_midterm"]
}
}
View(cpi.data)
cpi.data2SMidterm <- subset(cpi.data, !(time_to_election %in% c(6, 7)))
View(cpi.data2SMidterm)
devtools::source_url("http://bit.ly/NXdCpk")
library(Zelig)
library(digest)
library(DataCombine)
cpi.data$time_to_election_midterm <- cpi.data$time_to_election
for (i in 1:nrow(cpi.data)){
if (cpi.data[i, "time_to_election_midterm"] > 7){
cpi.data[i, "time_to_election_midterm"]<- cpi.data[i, "time_to_election_midterm"] - 8
}else{
cpi.data[i, "time_to_election_midterm"]<- cpi.data[i, "time_to_election_midterm"]
}
}
# Subset for mid-term and presidential elections
cpi.data2SMidterm <- subset(cpi.data, !(time_to_election_midterm %in% c(6, 7)))
View(cpi.data2SMidterm)
S1 <- zelig(error.prop.deflator.q2 ~ recession + ExpenditureGDP + PotentialGDP + DiscountRate2qChange + UNRATE + pres_party + time_to_election_midterm + GlobalModel + senate_dem_rep + house_dem_rep, model = "normal", data = cpi.data2SMidterm, cite = FALSE)
summary(S1)
SM2 <- zelig(error.prop.deflator.q2 ~ recession + ExpenditureGDP + PotentialGDP + DiscountRate2qChange + UNRATE + pres_party*time_to_election_midterm + GlobalModel + senate_dem_rep + house_dem_rep, model = "normal", data = cpi.data2SMidterm, cite = FALSE)
summary(SM2)
library(XML)
?fromXML
?XML
?xml
library(XML)
??xml
setwd("~/Dropbox/AMCProject/FailuresAndFederalism/IndvBankDataAnalysis/Data/Spain/CommercialBanks/Domestic/")
list,files()
list.files()
Files <- list.files()
for (i in Files){
Temp <- read.csv(i)
}
View(Temp)
